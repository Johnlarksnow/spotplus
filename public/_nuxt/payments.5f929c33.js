import y from"./Icon.ea438a13.js";import{_ as g}from"./Loader.b6e2be6a.js";import{_ as w}from"./nuxt-link.8ef527b5.js";import{u as b}from"./store.138f40b4.js";import{u as v}from"./fetch.e9598783.js";import{c as k}from"./utils.f07451bf.js";import{f as C,o as s,c as o,F as l,r as d,i as r,b as c,a as e,n as u,d as p,t as a,w as A,l as N}from"./entry.0819dfc5.js";import"./config.4f48d583.js";import"./_plugin-vue_export-helper.c27b6911.js";const S=["onClick"],$={class:"flex items-center gap-1 mb-1"},D={key:0,class:"flex items-center justify-center"},j={key:1},B={class:"table-auto even:bg-[#181818] odd:bg-transparent w-full"},P=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2"}," Amount "),e("th",{class:"px-4 py-2"}," ID "),e("th",{class:"px-4 py-2"}," Gateway "),e("th",{class:"px-4 py-2"}," Created At "),e("th",{class:"px-4 py-2"}," Status ")])],-1),V={class:"px-4 py-2"},F={class:"px-4 py-2"},I={key:0,class:"px-4 py-2"},J={key:1,class:"px-4 py-2"},L={class:"px-4 py-2"},z={key:2,class:"px-4 py-2"},W=C({__name:"payments",setup(E){const i=b(),{data:_,pending:h}=v("https://supgrade-api.site/api/v1/payments/userPayments",{method:"POST",body:JSON.stringify({userId:i.decodeJwt().id}),headers:{Authorization:`Bearer ${i.jwt}`}},"$S20EYPJj7r");return(n,O)=>{const m=y,f=g,x=w;return s(),o("div",null,[(s(!0),o(l,null,d(n.nav,t=>(s(),o("button",{key:t.name,onClick:T=>n.$router.push(t.path),class:u(["text-lg font-bold cursor-pointer inline-block after:h-[0.1rem] after:w-0 after:transition-all after:block hover:after:w-full after:bg-white",{"text-green-600":n.$route.path===t.path}])},[e("h1",$,[c(m,{name:t.icon,class:"w-6 h-6"},null,8,["name"]),p(" "+a(t.name),1)])],10,S))),128)),r(h)?(s(),o("div",D,[c(f)])):(s(),o("div",j,[e("table",B,[P,e("tbody",null,[(s(!0),o(l,null,d(r(_).payments,t=>(s(),o("tr",{key:t.id},[e("td",V,a(t.amount),1),e("td",F,a(t.id),1),t.gateway?(s(),o("td",I,a(t.gateway.charAt(0).toUpperCase()+t.gateway.slice(1)),1)):(s(),o("td",J," None ")),e("td",L,a(("convertDate"in n?n.convertDate:r(k))(t.createdAt)),1),e("td",{class:u(["px-4 py-2",{"text-green-500":t.status==="success","text-red-500":t.status==="cancelled"||t.status==="failed","text-yellow-500":t.status==="unpaid"}])},a(t.status.charAt(0).toUpperCase()+t.status.slice(1)),3),t.status==="unpaid"?(s(),o("td",z,[c(x,{to:{name:"checkout-id",params:{id:t.id}},class:"px-2 py-1 flex items-center justify-center bg-green-500 text-white rounded-md"},{default:A(()=>[p(" Pay ")]),_:2},1032,["to"])])):N("",!0)]))),128))])])]))])}}});export{W as default};
